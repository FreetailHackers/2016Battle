<!DOCTYPE html>
<html>

<head>

  <title>Leap Data Plotter</title>

  <!-- What you need: -->
  <script src="https://js.leapmotion.com/leap-0.6.4.min.js"></script>
  <script src="LeapDataPlotter.js"></script>

  <!-- Out stuff - syntax highlighting: -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>

  <script>
    // onload so we have a chance to get DOM element canvas
    window.onload = function(){
      window.plotter = new LeapDataPlotter({
        el: document.getElementById('leap_data_plot')
      });
      Leap.loop(function(frame){
        if(frame.hands[0] != undefined) {
          if (frame.hands[0].type.toString() === "left") {
            var left = frame.hands[0];
            var right = frame.hands[1];
          }
          else if (frame.hands[0].type.toString() === "right") {
            var left = frame.hands[1];
            var right = frame.hands[0];
          }
        }
        else {
          var left = frame.hands[0];
          var right = frame.hands[1];
        }
        if (!left && !right) return;
        if (!right && left ){
          plotter.plot('height', left.palmPosition[1],
            {
              precision: 3,
              units: 'mm'
            });
        }
        else if (!left && right){
          plotter.plot('height',right.palmPosition[1],{
            precision: 3,
            units: 'mm'
          });
        }
        // bad ordering on this check
        else {
          plotter.plot('height', left.palmPosition[1],
            {
              precision: 3,
              units: 'mm'
            });
          plotter.plot('height',right.palmPosition[1],{
            precision: 3,
            units: 'mm'
          });
        }
        plotter.update()
      });
    }
    hljs.initHighlightingOnLoad();
  </script>

  <style>
    body {
      font-family: Helvetica;
    }
    code{
      width: 500px;
    }
    td {
      vertical-align: top;
    }
    td.key {
      font-weight: bold;
    }
  </style>

</head>

<body>



  <canvas id="leap_data_plot"></canvas>

</body>



</html>
